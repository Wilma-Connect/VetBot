<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>VetBot – Suivi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles/header.css">
</head>
<body class="bg-[#faf3e8] pt-28 text-white min-h-screen p-4">
  <header class="header">
    <div class="header-nav">
      <div class="flex items-center gap-3">
        <select id="pageSelect" class="page-select">
          <option value="suivi.html" selected>Suivi</option>
          <option value="conseils.html">Conseils</option>
          <option value="diagnostic.html">Diagnostic</option>
        </select>
        <button id="" class="">Historique</button>
      </div>
      <div class="flex items-center gap-3">
        <button id="authButton" class="auth-button">Se connecter</button>
        <button id="" class="b2">S'inscrire</button>
      </div>
    </div>
  </header>
  <h1 class="text-xl font-bold mb-4 text-green-900">Enregistrer un suivi</h1>
  <form class="space-y-4">
    <input type="text" placeholder="Titre (ex: Vaccin Marek)" class="w-full p-2 rounded bg-green-800/30" />
    <input type="datetime-local" class="w-full p-2 rounded  bg-green-800/30" />
    <textarea placeholder="Détails..." class="w-full p-2 rounded bg-green-800/30"></textarea>
    <button type="submit" class="w-full bg-green-600 p-2 rounded">Enregistrer</button>
  </form>
  <div class="mt-6">
    <h2 class="font-semibold mb-2">Suggestions de rappels</h2>
    <ul class="space-y-2">
      <li class="bg-blue-950 text-sm w-fit hover:bg-[#181818] cursor-pointer p-3 rounded">Nettoyage poulailler – tous les lundis</li>
      <li class="bg-blue-950 text-sm w-fit hover:bg-[#181818] cursor-pointer p-3 rounded">Vérification eau – tous les jours à 8h</li>
    </ul>
  </div>
  <script src="script.js"></script>
  <script>
    // Fonction pour générer un ID unique
    function generateId() {
      return Date.now().toString(36) + Math.random().toString(36).substr(2);
    }

    // Fonction pour sauvegarder un suivi dans l'historique
    function saveToHistory(title, details) {
      const history = JSON.parse(localStorage.getItem('vetbot_history') || '[]');
      const newEntry = {
        id: generateId(),
        type: 'suivi',
        title: title,
        date: new Date().toISOString(),
        content: details
      };
      history.unshift(newEntry);
      localStorage.setItem('vetbot_history', JSON.stringify(history));
    }

    // Gestion du formulaire de suivi
    document.querySelector('form').addEventListener('submit', (e) => {
      e.preventDefault();
      const title = e.target.querySelector('input[type="text"]').value;
      const date = e.target.querySelector('input[type="datetime-local"]').value;
      const details = e.target.querySelector('textarea').value;
      
      if (title && date && details) {
        // Sauvegarder dans l'historique
        saveToHistory(title, details);
        
        // Réinitialiser le formulaire
        e.target.reset();
        
        // Ajouter une confirmation visuelle
        const confirmation = document.createElement('div');
        confirmation.className = 'bg-green-600 text-white p-3 rounded-lg mt-4';
        confirmation.textContent = 'Suivi enregistré avec succès !';
        e.target.parentNode.insertBefore(confirmation, e.target.nextSibling);
        
        // Supprimer la confirmation après 3 secondes
        setTimeout(() => {
          confirmation.remove();
        }, 3000);
      }
    });
  </script>
</body>
</html>
